version: "3.9"
services:
  client-backend:
    image: mars-back-image
    container_name: mars-back
    build:
      context: .
      dockerfile: DockerfileBack
    ports:
      - 8290:8290
    environment:
      - SERVER_PORT= 8290
  frontend:
    image: frontend-nextjs
    container_name: frontend
    build:
      context: ./front
      dockerfile: Dockerfile.front
    environment:
      - NEXT_PUBLIC_BACKEND_CLIENT_URL=http://localhost:8290
    ports:
      - 8080:3000

networks:
  backend:
    name: backend
    external: true
    driver: bridge
